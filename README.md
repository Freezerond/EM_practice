# –¢–µ–º–∞ 2. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö  
## –ó–∞–¥–∞–Ω–∏–µ 2  

–ü–∞—Ä—Å–µ—Ä —Å–∫–∞—á–∏–≤–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±—é–ª–ª–µ—Ç–µ–Ω–∏ —Ç–æ—Ä–≥–æ–≤ –Ω–µ—Ñ—Ç–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ —Å —Å–∞–π—Ç–∞  
[–°–ü–ò–ú–≠–ö–°](https://spimex.com/markets/oil_products/trades/results) –Ω–∞—á–∏–Ω–∞—è —Å 2023 –≥–æ–¥–∞.  

–ù–∞ –º–æ–º–µ–Ω—Ç 16 —Å–µ–Ω—Ç—è–±—Ä—è 2025 –≥–æ–¥–∞ –≤ 16:46 –≤ –ë–î –±—ã–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã 138 017 –∑–∞–ø–∏—Å–µ–π.  
–°–∫—Ä–∏–ø—Ç –æ—Ç—Ä–∞–±–æ—Ç–∞–ª –∑–∞ 540,19 —Å–µ–∫—É–Ω–¥.  

---

## –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

- `aiohttp`  
- `BeautifulSoup`  
- `pandas`  
- `xlrd`  
- `SQLAlchemy (async)`  
- `asyncpg`  

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:  

```bash
pip install -r requirements.txt
```

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
zadanie_2/
‚îÇ
‚îú‚îÄ‚îÄ parser.py                        # –°–∫—Ä–∏–ø—Ç –ø–æ —Å–±–æ—Ä—É –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø–∏—Å–∏ –∏—Ö –≤ –ë–î
‚îú‚îÄ‚îÄ main.py                          # –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ database/                        
‚îÇ   ‚îú‚îÄ‚îÄ config.py                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ database.py                  # –°–æ–∑–¥–∞–Ω–∏–µ –¥–≤–∏–∂–∫–∞ –∏ —Ñ–∞–±—Ä–∏–∫–∏ —Å–µ—Å—Å–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ spimex_trading_results.py    # ORM-–º–æ–¥–µ–ª—å —Ç–∞–±–ª–∏—Ü—ã spimex_trading_results
‚îÇ   ‚îî‚îÄ‚îÄ queries/
‚îÇ       ‚îî‚îÄ‚îÄ orm.py                   # –§—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π
‚îÇ
‚îú‚îÄ‚îÄ .env                             # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–¥–æ—Å—Ç—É–ø –∫ –ë–î)
‚îú‚îÄ‚îÄ requirements.txt                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
```

–ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```
DB_NAME=<–∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö>
DB_USER=<–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>
DB_PASSWORD=<–ø–∞—Ä–æ–ª—å>
DB_HOST=localhost # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
DB_PORT=5432
```

---

## –ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±—é–ª–ª–µ—Ç–µ–Ω—è

- `exchange_product_id` ‚Äî –∫–æ–¥ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞  
- `exchange_product_name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞  
- `oil_id` ‚Äî –ø–µ—Ä–≤—ã–µ 4 —Å–∏–º–≤–æ–ª–∞ –∫–æ–¥–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞  
- `delivery_basis_id` ‚Äî —Å–∏–º–≤–æ–ª—ã 5‚Äì7 –∫–æ–¥–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞  
- `delivery_basis_name` ‚Äî –±–∞–∑–∏—Å –ø–æ—Å—Ç–∞–≤–∫–∏  
- `delivery_type_id` ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª –∫–æ–¥–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞  
- `volume` ‚Äî –æ–±—ä–µ–º –¥–æ–≥–æ–≤–æ—Ä–æ–≤  
- `total` ‚Äî —Å—É–º–º–∞ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –≤ —Ä—É–±–ª—è—Ö  
- `count` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–≥–æ–≤–æ—Ä–æ–≤  
- `date` ‚Äî –¥–∞—Ç–∞ —Ç–æ—Ä–≥–æ–≤  
- `created_on`, `updated_on` ‚Äî –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ –ë–î  

---

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö  

–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL —á–µ—Ä–µ–∑ SQLAlchemy —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.  

---

## –ó–∞–ø—É—Å–∫

–í –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏, –µ—Å–ª–∏ –æ–Ω–æ –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ:

```bash
cd .venv\scripts
.\activate
cd ..\..
```

–ó–∞—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É zadanie_2:

```bash
cd zadanie_2
```

–ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç:

```bash
python main.py
```
